# PRD: PDF-to-Markdown Converter

## Overview

This product is an automated tool designed to efficiently convert PDF documents into well-formatted Markdown files. It addresses the pain point of manually extracting and formatting content from PDFs, making it ideal for developers, researchers, and content creators who need to digitize or repurpose large volumes of documents.

## Core Features

1.  **PDF to Image Conversion**:
    *   **What it does**: The system accepts a user-uploaded PDF file and converts each page into a high-quality image (e.g., PNG).
    *   **Why it's important**: This is a necessary prerequisite for OCR processing, as OCR engines typically work with image files.
    *   **How it works**: It will use a Python library like `PyMuPDF` (`fitz`) to render each page of the PDF and save it as an image file.

2.  **Image OCR Processing**:
    *   **What it does**: It uses the Google Gemini 2.5 Flash API to perform Optical Character Recognition (OCR) on the converted images.
    *   **Why it's important**: This is the core step for extracting text and layout information from the images.
    *   **How it works**: Image files will be sent to the Gemini API, which will return a response containing the recognized text and structural information.

3.  **Markdown Generation**:
    *   **What it does**: It converts the structured text received from the OCR into a properly formatted Markdown file.
    *   **Why it's important**: It provides a clean, easy-to-edit, and universally compatible output format.
    *   **How it works**: The system will parse the Gemini API's output, identifying elements like headings, lists, paragraphs, and tables, and translate them into the corresponding Markdown syntax.

4.  **Command-Line Interface (CLI)**:
    *   **What it does**: Provides a simple CLI that allows users to specify the input PDF file and the output directory via the command line.
    *   **Why it's important**: Enables automation and scripting, making it easy to integrate into other workflows.
    *   **How it works**: It will use Python's `click` library to create a CLI entry point that accepts file paths as arguments.

## Technical Architecture

*   **Programming Language**: Python 3.9+
*   **Core Libraries**:
    *   `PyMuPDF` (or `pdf2image` with `poppler`): For PDF-to-image conversion.
    *   `google-generativeai`: For interacting with the Gemini API.
    *   `Pillow`: For any necessary image manipulation.
    *   `click`: For building the CLI.
*   **API Integration**: Google Gemini 2.5 Flash API.
*   **Data Flow**:
    1.  User provides a PDF file path via the CLI.
    2.  The system converts the PDF into a series of images.
    3.  The system iterates through the images, sending each to the Gemini API.
    4.  The Gemini API returns the OCR result.
    5.  The system formats the OCR result into Markdown.
    6.  The final Markdown content is saved to a user-specified output file. 
    